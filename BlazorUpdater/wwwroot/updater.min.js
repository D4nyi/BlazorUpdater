"use strict";(()=>{const n=document.currentScript?.getAttribute("worker")||"service-worker.js";let t=null;function r(e){t==null&&(t=document.getElementById("updater")),t.classList.add("visible"),t.querySelector("span").addEventListener("click",i=>{i.target.parentElement.setAttribute("closing",""),t.addEventListener("animationend",()=>{i.target.parentElement.removeAttribute("closing"),t.classList.remove("visible")},{once:!0})}),t.lastChild.addEventListener("click",()=>{e.waiting&&e.waiting.postMessage("SKIP_WAITING")})}"serviceWorker"in navigator&&window.addEventListener("load",async()=>{const e=await navigator.serviceWorker.register(n);e.waiting&&r(e),e.addEventListener("updatefound",()=>{e.installing&&e.installing.addEventListener("statechange",()=>{e.waiting&&(navigator.serviceWorker.controller?r(e):console.log("Service Worker initialized for the first time"))})});let i=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{i||(window.location.reload(),i=!0)})});})();